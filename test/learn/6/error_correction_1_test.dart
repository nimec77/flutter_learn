import 'package:flutter_learn/learn/6/error_correction_1.dart';
import 'package:flutter_test/flutter_test.dart';

void main() {
  final errorCorrection1 = ErrorCorrection1();

  test('encode short word', () {
    expect(errorCorrection1.encode('hey'),
        equals('000111111000111000000000000111111000000111000111000111111111111000000111'));
  });
  test('encode longer word', () {
    expect(
        errorCorrection1.encode('The Sensei told me that i can do this kata'),
        equals(
            '000111000111000111000000000111111000111000000000000111111000000111000111000000111000000000000000000111000111000000111111000111111000000111000111000111111000111111111000000111111111000000111111000111111000000111000111000111111000111000000111000000111000000000000000000111111111000111000000000111111000111111111111000111111000111111000000000111111000000111000000000000111000000000000000000111111000111111000111000111111000000111000111000000111000000000000000000111111111000111000000000111111000111000000000000111111000000000000111000111111111000111000000000000111000000000000000000111111000111000000111000000111000000000000000000111111000000000111111000111111000000000000111000111111000111111111000000000111000000000000000000111111000000111000000000111111000111111111111000000111000000000000000000111111111000111000000000111111000111000000000000111111000111000000111000111111111000000111111000000111000000000000000000111111000111000111111000111111000000000000111000111111111000111000000000111111000000000000111'));
  });
  test('encode with numbers', () {
    expect(errorCorrection1.encode('T3st'),
        equals('000111000111000111000000000000111111000000111111000111111111000000111111000111111111000111000000'));
  });
  test('encode with special characters', () {
    expect(
        errorCorrection1.encode('T?st!%'),
        equals(
            '000111000111000111000000000000111111111111111111000111111111000000111111000111111111000111000000000000111000000000000111000000111000000111000111'));
  });
  test('decode short word hey', () {
    expect(errorCorrection1.decodeBest('100111111000111001000010000111111000000111001111000111110110111000010111'),
        equals('hey'));
  });
  test('decode short word 2', () {
    expect(
        errorCorrection1.decode(
            '000111000111000111000100000111111000111000001000000111111000000111000111000100111000000000000000000111000111000000111111000111111000000111000111000111111000111111111000000111111111000000111111000110111000010111000111000111111000111001000111000000111000000000000000000111111111000111000000000111111000111111111111000111111000111111000000000111111000000111000001000000111000000000001000000111111000111111000111000111111000000111000111000000111000000000000000000111111111000111000000000111111000111000000000000111111000000010000111000111111111000111000000000100111000000000000000000111111000111000000111000000111000000000000000000111111000000000111111000111111000000000000111000111111000111111111000000000111000000000000010000111111000000111000000000111111000111111110111000000111000000000000000000111111111000111000000000111111000111000000000000111111000111000000111000111111111000000111111000000111000000000000000000111111000111000111111000111111000000000000111000111111111000111000000000111111000000000000111'),
        equals('The Sensei told me that i can do this kata'));
  });
  test('decode short word 3' , () {
    expect(
        errorCorrection1
            .decode('000111000111000111000001000000111111000000111111000111111111000000111011000111111111000111000000'),
        equals('T3st'));
  });
  test('decode short word 4', () {
    expect(
        errorCorrection1.decode(
            '000111000111000111000010000000111111111111011111000111111111000000111111000111101111000111000000000000111000000000000111000000111000000111000111'),
        equals('T?st!%'));
  });
}
